# Μικρομάθημα 3: Βασικά στοιχεία C# για το Unity

## Στόχοι Μάθησης  
Να κατανοήσουμε τη βασική σύνταξη της C# που χρειάζεται για να δημιουργούμε Scripts
στο Unity: μεταβλητές, μεθόδους και κλάσεις.

---

## Εισαγωγή  
Η C# είναι η γλώσσα προγραμματισμού που χρησιμοποιείται στο Unity. 

Κάθε script που δημιουργούμε είναι μια **κλάση** (class) που επεκτείνει την κλάση `MonoBehaviour`.
Δηλαδή εμπεριέχει τις βασικές λειτουργίες που του επιτρέπουν να τρέξει σε ένα GameObject. Το όνομα
της κλάσης είναι το όνομα του αρχείου που δημιουργούμε που περιέχει το script.

Μέσα σε αυτήν μπορούμε να ορίζουμε:  
- **Μεταβλητές** (variables): για αποθήκευση δεδομένων.  
- **Μεθόδους** (methods): για ενέργειες και συμπεριφορές.  
- **Γεγονότα κύκλου ζωής (lifecycle methods)** όπως `Start()` και `Update()`.  

---

## Δημιουργία Script  
Δημιουργήστε στο Unity Hub ένα νέο Project τύπου **Universal 3D (URP)**.  

Στο παράθυρο **Assets**, κάντε δεξί κλικ και επιλέξτε:  
**Create → Scripting → Monobehaviour Script**.  

Ονομάστε το αρχείο `MyScript` (**προσοχή:** μόνο λατινικοί χαρακτήρες χωρίς κενά) και κάντε 
διπλό κλικ για να ανοίξει στο **Visual Studio**.  Θα δείτε κάτι σαν το παρακάτω:

```csharp
using UnityEngine;

public class MyScript : MonoBehaviour {
    // Start is called once before the first execution of Update after the MonoBehaviour is created
    void Start() {
        
    }

    // Update is called once per frame
    void Update() {
        
    }
}
```

---

## Μεταβλητές  
Οι μεταβλητές αποθηκεύουν τιμές που χρησιμοποιεί το πρόγραμμα. Παραδείγματα:

```csharp
public int health = 100;         // ακέραιος αριθμός
public float speed = 4.5f;       // δεκαδικός αριθμός (το f είναι απαραίτητο)
public bool isAlive = true;      // λογική τιμή
public string playerName = "Alex"; // κείμενο
```

- Το `public` κάνει τη μεταβλητή ορατή στο Unity Editor (Inspector).  
- Έτσι μπορούμε να αλλάζουμε τιμές χωρίς να ξαναγράφουμε κώδικα.
Τα int, float, bool και string είναι τύποι δεδομένων. Περιγράφουν όπως φαίνεται και στα
σχόλια ακέραιους αριθμούς, δεκαδικούς αριθμους, λογικές τιμές και συμβολοσειρές.

Ορισμένα κρίσιμα στοιχεία:

- Για τη δήλωση μιας μεταβλητής είναι υποχρεωτικά: ο **τύπος δεδομένων** και το **όνομα**, 
π.χ. `int lives;`
- Κάθε δήλωση πρέπει να καταλήγει υποχρεωτικά σε ελληνικό ερωτηματικό (semicolon) **;**
- προαιρετικά μπορούμε να προσθέσουμε τη δήλωση **public** πριν τη μεταβλητή, π.χ. `public int lives;`. 
Αυτό μας βοηθάει να τροποποιούμε τις τιμές στον Editor, βλ. και μικρομάθημα 2.
- προαιρετικά μπορούμε να αναθέσουμε **αρχική τιμή** στη μεταβλητή, π.χ. `public int lives=5;`. Αν
δεν το κάνουμε θα ανατεθεί η εξ ορισμού (default) τιμή, δηλ. 0 στους αριθμούς και κενή 
συμβολοσειρά στα strings.
- Προσοχή: όταν αναθέτουμε τιμές σε μεταβλητές τύπου float πρέπει **στο τέλος να προσθέτουμε το
γράμμα f** που σηματοδοτεί ότι η τιμή είναι δεκαδικός αριθμός τύπου float και όχι double (μεγαλύτερης
ακρίβειας), π.χ. `float height=0.76f;`

---

## Μέθοδοι  
Οι μέθοδοι καθορίζουν **τι κάνει** το αντικείμενο. Είναι συναρτήσεις που μπορούμε να δημιουργήσουμε
ή να καλέσουμε. Ως συνάρτηση, μια μέθοδος έχει:
 - **τύπο επιστροφής**, π.χ. int, float, κλπ ή void αν δεν επιστρέφει κάτι. Ο τύπος επιστροφής 
 είναι υποχρεωτικό να δηλώνεται, π.χ `int GetRandomNumber()`
 - **όνομα** που ακολουθεί τον τύπο επιστροφής, και
 - **ορίσματα** μέσα σε παρενθέσεις που περιγράφονται ως ζεύγη τύπος δεδομένων και όνομα μεταβλητής, 
 χωρισμένα με κόμμα, π.χ. `int AddTwoNumbers(int first, int second)`. 

Με τις μεθόδους μπορούμε:

- να **καλούμε μια υπάρχουσα μέθοδο** ενός αντικειμένου ή μιας κλάσης. Συντακτικά αναφέρουμε πρώτα το
όνομα του αντικειμένου / κλάσης μετά χρησιμοποιούμε τελεία (.) και μετά καλούμε την μέθοδο με
το όνομά τις και τιμές σε κάθε ένα από ορίσματά της (αν και όπου χρειάζεται). Η κλήση αυτή, που
αποτελεί εντολή, καταλήγει με ελληνικό ερωτηματικό (;), π.χ. `Debug.Log("hello world");`
- να γράφουμε **κώδικα σε μεθόδους που γνωρίζει ήδη το Unity**, όπως η Update() και η Start(). Με τον
τρόπο αυτό δηλώνουμε τις εντολές που θέλουμε να εκτελεστούν κάθε φορά οπυ αυτές οι μέθοδοι καλούνται.
- να **δημιουργούμε νέες δικές μας μεθόδους**. Εκεί θα πρέπει πρώτα να κάνουμε την
δήλωση της μεθόδου (τύπος επιστροφής, όνομα, ορίσματα) και μετά μέσα σε άγκιστρα { } να γράψουμε
μία μία τις εντολές που θέλουμε να εκτελεστούν.

**Προσοχή:** η δήλωση μιας μεθόδου γίνεται έξω από άλλες μεθόδους, αλλά μέσα στην κλάση. Δεν παίζει
ρόλο η σειρά με την οποία δηλώνουμε τις μεθόδους μας!

Παράδειγμα δήλωσης δικής μας μεθόδου. Γράψτε την και προσθέστε την στο script σας:

```csharp
public void PrintMessage() {
    Debug.Log("Hello from PrintMessage()");
}
```
Η εντολή Debug.Log γράφει ένα μήνυμα στην κονσόλα του Unity Editor όταν κληθεί. Άρα εδώ καλούμε
μια υπάρχουσα μέθοδο της κλάσης Debug, την οποία το Unity ήδη γνωρίζει!

Η δική μας μέθοδος μπορεί να κληθεί με την εντολή `PrintMessage();`. Ας δούμε πώς μπορούμε να
το κάνουμε αυτό.

Μπορούμε να την καλέσουμε μέσα από την `Start()` για να κληθεί μία φορά, στην αρχή της εκτέλεσης
του προγράμματος ή μέσα από την `Update()`, όπου θα καλείται συνεχώς!! Ας προτιμήσουμε την `Start()`.
Ενημερώστε τη συνάρτηση Start() ως εξής:

```csharp
void Update() {
    PrintMessage();
}
```
Εκτελέστε το πρόγραμμα και παρατηρήστε την έξοδο της κονσόλας. Δοκιμάστε να αντικαταστήσετε την 
Start() με την Update() και παρατηρήστε το αποτέλεσμα.

---
## Αριθμητικές πράξεις
Οι αριθμοί σε C# μπορούν να είναι **ακέραιοι (int)** ή **δεκαδικοί (float, double)**.
```csharp
int a = 10;
int b = 3;
float x = 2.5f;
float y = 4.0f;

int sum = a + b;         // πρόσθεση → 13
int diff = a - b;        // αφαίρεση → 7
int prod = a * b;        // πολλαπλασιασμός → 30
int div = a / b;         // διαίρεση ακέραιων → 3
float div2 = a / (float)b; // διαίρεση με δεκαδικό → 3.3333
int mod = a % b;         // υπόλοιπο → 1

a++; // ισοδυναμεί με a = a + 1;
a--; // ισοδυναμεί με a = a - 1;
a += 2; // προσθέτει 2
a -= 3; // αφαιρεί 3
```
**Προσοχή:** αν και οι δύο αριθμοί είναι int, το αποτέλεσμα της διαίρεσης είναι ακέραιο.

## Λογικές πράξεις και συγκρίσεις
Χρησιμοποιούνται οι τελεστές σύγκρισης (<, >, < =, >=, ==, !=) και οι λογικοί τελεστές
(&&, ||, !).
```csharp
int a = 5;
int b = 8;

bool result1 = a > b;   // false
bool result2 = a <= b;  // true
bool result3 = a == b;  // false
bool result4 = a != b;  // true

bool isTrue = (a < b) && (b < 10); // AND
bool isFalse = (a > b) || (b > 10); // OR
bool inverted = !isTrue;            // NOT
```
**Προσοχή:** στη σύγκριση χρησιμοποιούμε δύο == στην ανάθεση τιμών ένα =.

## Συρραφή (concatenation) συμβολοσειρών
string firstName = "Alex";
string lastName = "Smith";
float height = 1.82f;
string fullName = firstName + " " + lastName + ", " + height; // "Alex Smith, 1.82"

## Επαναλήψεις
### For
```csharp
for (int i = 0; i < 5; i++) {
    Debug.Log("i = " + i);
}
```

### While
```csharp
int i = 0;
while (i < 3) {
    Debug.Log("i = " + i);
    i++;
}
```
## Συνθήκες (if / else)
```csharp
int score = 85;

if (score >= 90) {
    Debug.Log("Excellent!");
}
else if (score >= 60) {
    Debug.Log("Good job!");
}
else {
    Debug.Log("Try again!");
}
```
## Ασκήσεις
1. Δημιουργήστε ένα νέο script. Δηλώστε δύο δημόσιες μεταβλητές τύπου int με ονόματα a και b. Δηλώστε
μια συνάρτηση AddNumbers που δέχεται δύο int και τυπώνει στην κονσόλα το αποτέλεσμα της
πρόσθεσής τους. Καλέστε την από τη Start με τις τιμές των a και b. Τρέξτε και ελέγξτε ότι λειτουργεί
σωστά τροποποιώντας τις τιμές των a και b στον Editor.
2. Τροποποιήστε το script έτσι ώστε να μπορείτε να δείτε το αποτέλεσμα της πράξης χωρίς να τυπωθεί
στην κονσόλα!

## Σύνδεσμοι
Αν σας δυσκολεύει η σύνταξη της C# δοκιμάστε το online tutorial του W3Schools εδώ:
https://www.w3schools.com/cs/index.php

---

## Ανασκόπηση νέων εννοιών μαθήματος
- MonoBehaviour -> κλάση με βασικές λειτουργίες ενος GameObject
- νέο script -> κάθε script δημιουργεί μια νέα κλάση που επεκτείνει τη MonoBehaviour 
- μεταβλητές -> αποθηκεύουν τιμές
- τύποι δεδομένων: int, float, bool, string -> ακέραιοι, δεκαδικοί, λογικοί, συμβολοσειρά
- δήλωση public -> κάνει τις μεταβλητές προσβάσιμες στον Unity Editor
- δήλωση μεθόδου -> τύπος επιστροφής, όνομα, ορίσματα
- κλήση μεθόδου -> όνομα αντικειμένου, τελεία '.', όνομα μεθόδου, τιμές ορισμάτων
- αριθμητικοί και λογικοί τελεστές
- δομές ελέγχου και επανάληψης -> if/else, for, while
- Debug.Log -> εμφάνιση μηνύματος στην κονσόλα του Unity Editor.